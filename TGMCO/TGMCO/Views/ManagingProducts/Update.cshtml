@model TGMCO.Models.PRODUCT
@using TGMCO.Models.Entity;
@using TGMCO.Models;
@{
    ViewBag.Title = "Update";
    Layout = "~/Views/Shared/_AdminLayout.cshtml";
    ProductModel m_PRODUCT = new ProductModel();
}

@section Page_Header {
    <h1>
        QUẢN LÝ CHI TIẾT SẢN PHẨM
        <small>Cập nhật sản phẩm: @Model.PRODUCT_CODE </small>
    </h1>
    <ol class="breadcrumb">
        <li><a href="@Url.Action("Index", "Admin" )"><i class="fa fa-dashboard"></i> Home</a></li>
        <li><a href="@Url.Action("ManagingProducts", "Admin" )"> ManagingProducts</a></li>
        <li class="active">@ViewBag.Title</li>
    </ol>
}

<div class="box box-primary">
    <div class="col-lg-12">
        <ul class="nav nav-tabs">
            <li class="active"><a data-toggle="tab" href="#profile">Giao diện sản phẩm</a></li>
            <li><a data-toggle="tab" href="#buyhistory">Chỉnh sửa thông tin</a></li>
        </ul>

        <div class="tab-content">
            <div id="profile" class="tab-pane fade in active">
                <br />
                <div class="col-sm-3">
                    <div class="col-item">
                        <div class="photo">
                            <img id="Image-Product" src="@Url.Content(@m_PRODUCT.GetImage1(@Model.PRODUCT_ID))" class="img-responsive" alt="a" />
                        </div>
                        <div class="info">
                            <div class="Name-Product">
                                <h5>@Model.PRODUCT_NAME</h5>
                            </div>
                            <div class="Price-Product">
                                <h5 class="price-text-color">
                                    <strong>Giá: </strong> @string.Format("{0:0,0}", @Model.UNIT_PRICE) VNĐ
                                </h5>
                            </div>
                            <div class="separator">
                                <button type="button" class="btn btnShopNow" aria-label="Left Align">
                                    <span class="glyphicon glyphicon-shopping-cart" aria-hidden="true"></span> <strong>Thêm vào giỏ</strong>
                                </button>
                            </div>
                            <div class="clearfix">
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-sm-9">
                    <div class="col-md-4">
                        <div class="product-title">@Model.PRODUCT_NAME</div>
                        <div class="divider"></div>
                        <div class="product-desc">Mã: @Model.PRODUCT_CODE</div>
                        Tình trạng: Còn hàng
                        <hr>  
                        <div class="product-price">Giá: @string.Format("{0:0,0}", @Model.UNIT_PRICE) VNĐ</div> 
                        <div class="input-group number-spinner">
                            <span class="input-group-btn">
                                <button class="btn btn-default" data-dir="dwn"><span class="glyphicon glyphicon-minus"></span></button>
                            </span>
                            <input type="text" class="form-control text-center" pattern="[0-9]" value="1">
                            <span class="input-group-btn">
                                <button class="btn btn-default" data-dir="up"><span class="glyphicon glyphicon-plus"></span></button>
                            </span>
                        </div>

                        <button type="button" class="btn btnShopNow" aria-label="Left Align">
                            <span class="glyphicon glyphicon-shopping-cart" aria-hidden="true"></span> <strong>Thêm vào giỏ</strong>
                        </button>   
                    </div>
                    <div class="col-md-8">
                        <div class="product col-md-8 service-image-left">
                            <center>
                                <img id="item-display" src="@Url.Content(@m_PRODUCT.GetImage1(@Model.PRODUCT_ID))" alt=""/>
                            </center>
                        </div>

                        <div class="container service1-items col-sm-2 col-md-4 pull-left">
                            <center>
                                <a id="item-1" class="service1-item">
                                    <img id="item-display" src="@Url.Content(@m_PRODUCT.GetImage1(@Model.PRODUCT_ID))" alt="" />
                                </a>
                                <a id="item-2" class="service1-item">
                                    <img src="" alt=""></img>
                                </a>
                            </center>
                        </div>
                    </div>
                    <div class="col-md-12">
                        <ul id="myTab" class="nav nav-tabs">

                            <li class="active"><a href="#service-one" data-toggle="tab">CHI TIẾT KỸ THUẬT</a></li>
                            <li><a href="#service-two" data-toggle="tab">ĐẶC TRƯNG</a></li>
                            <li><a href="#service-three" data-toggle="tab">FILES ĐÍNH KÈM</a></li>
                            <li><a href="#service-four" data-toggle="tab">XUẤT XỨ</a></li>


                        </ul>
                        <div id="myTabContent" class="tab-content">
                            <div class="tab-pane fade in active" id="service-one">
                                @Html.Raw(Model.DESCRIPTION_1.Replace(Environment.NewLine, "<br/> <tab/>"))                              
                            </div>
                            <div class="tab-pane fade" id="service-two">
                                <ul><li>@Model.FEATURED</li></ul>
                            </div>
                            <div class="tab-pane fade" id="service-three">
                                <ul>
                                    <li>
                                        <a target="_blank" href="@Url.Content(@m_PRODUCT.GetFile1(@Model.PRODUCT_ID))" title="FILES1">
                                            <i class="fa fa-file-pdf-o" aria-hidden="true"></i>
                                            Parts Diagram
                                        </a>
                                    </li>
                                    <li>
                                        <a target="_blank" href="@Url.Content(@m_PRODUCT.GetFile1(@Model.PRODUCT_ID))" title="FILES1">
                                            <i class="fa fa-file-pdf-o" aria-hidden="true"></i>
                                            Parts List
                                        </a>
                                    </li>
                                    <li>
                                        <a target="_blank" href="@Url.Content(@m_PRODUCT.GetFile1(@Model.PRODUCT_ID))" title="FILES1">
                                            <i class="fa fa-file-pdf-o" aria-hidden="true"></i>
                                            Introduction Manual
                                        </a>
                                    </li>
                                </ul>
                            </div>
                            <div class="tab-pane fade" id="service-four">
                                <ul><li>@Model.MADE_IN</li></ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div id="buyhistory" class="tab-pane fade">
                <div class="table-responsive">
                    <table class="table">
                        <thead>
                            <tr>
                                <th>#</th>
                                <th>Ngày đặt hàng</th>
                                <th>Mã giao hàng</th>
                                <th>Ngày giao hàng</th>
                                <th>Tổng tiền</th>
                                <th>Trạng thái</th>
                            </tr>
                        </thead>
                        <tbody></tbody>
                    </table>
                </div>
            </div>

        </div>
    </div>
</div><!-- /.box -->
<div class="clearfix"></div>

@section masterjs{
    <link rel="stylesheet/less" type="text/css" href="~/Content/Admin_Layout/css/products.less">

    <style>

                .product {
                    border: 1px solid #dddddd;
                    height: 321px;
                }

                    .product > img {
                        max-width: 277px;
                    }

                .product-rating {
                    font-size: 20px;
                    margin-bottom: 25px;
                }

                .product-title {
                    font-size: 20px;
                }

                .product-desc {
                    font-size: 14px;
                }

                .product-price {
                    font-size: 22px;
                }

                .product-stock {
                    color: #74DF00;
                    font-size: 16px;
                }

                .product-info {
                    margin-top: 50px;
                }

                /*********************************************
                            VIEW
        *********************************************/

                .container-fluid {
                    max-width: 1140px;
                    margin: 0 auto;
                }

                .view-wrapper {
                    float: right;
                    max-width: 70%;
                    margin-top: 25px;
                }


                /*********************************************
                        ITEM
        *********************************************/

                .service1-items {
                    padding: 0px 0 0px 0;
                    float: left;
                    position: relative;
                    overflow: hidden;
                    max-width: 100%;
                    height: 321px;
                    width: 130px;
                }

                .service1-item {
                    height: 107px;
                    width: 120px;
                    display: block;
                    float: left;
                    position: relative;
                    padding-right: 20px;
                    border-right: 1px solid #DDD;
                    border-top: 1px solid #DDD;
                    border-bottom: 1px solid #DDD;
                }

                    .service1-item > img {
                        max-height: 110px;
                        max-width: 110px;
                        opacity: 0.6;
                        transition: all .2s ease-in;
                        -o-transition: all .2s ease-in;
                        -moz-transition: all .2s ease-in;
                        -webkit-transition: all .2s ease-in;
                    }

                        .service1-item > img:hover {
                            cursor: pointer;
                            opacity: 1;
                        }

                .service-image-left {
                    padding: 10px;
                    padding-top: 0;
                     height: 100%;
                }

                .service-image-right {
                    padding-left: 50px;
                }

                    .service-image-left > center > img, .service-image-right > center > img {
                        width: 100%;
                    }
    </style>
    <style>
        .btnShopNow {
            width: 100%;
            background-color: #FED208;
        }

        .col-item .separator {
            border-top: 1px solid #E1E1E1;
            text-align: center;
        }

        .col-item {
            border: 1px solid #E1E1E1;
            border-radius: 5px;
            background: #FFF;
        }

            .col-item .photo img {
                margin: 0 auto;
                width: 100%;
            }

            .col-item .info {
                padding: 10px;
                border-radius: 0 0 5px 5px;
                margin-top: 1px;
            }

            .col-item:hover .info {
                background-color: #F5F5DC;
            }

            .col-item .price {
                /*width: 50%;*/
                float: left;
                margin-top: 5px;
            }

                .col-item .price h5 {
                    line-height: 20px;
                    margin: 0;
                }

        .price-text-color {
            color: red;
            font-weight: bold;
            font-size: 16px;
        }

        .col-item .separator {
            border-top: 1px solid #E1E1E1;
            text-align: center;
        }

            .col-item .separator p {
                line-height: 20px;
                margin-bottom: 0;
                margin-top: 10px;
                text-align: center;
            }

                .col-item .separator p i {
                    margin-right: 5px;
                }

        .btnShopNow :focus, .btnShopNow :hover {
            background-color: #F37232;
        }
    </style>
    <style>
        .file-image {
            display: inline-block;
            position: relative;
        }

            .file-image input {
                position: absolute;
                overflow: hidden;
                opacity: 0;
                width: 0;
            }

            .file-image .reset {
                cursor: pointer;
                display: block;
                position: absolute;
                right: 0;
                width: 40px;
                height: 40px;
                text-align: center;
                background: rgba(0,0,0,.8);
            }

                .file-image .reset:before {
                    content: '\d7';
                    font: normal normal 40px/39px sans-serif, Arial;
                    color: #fa8e8e;
                }

            .file-image .image {
                cursor: pointer;
                display: block;
                box-sizing: border-box;
                width: 230px;
                height: 230px;
                border: 1px solid #dbdbdb;
                background-color: #f0f0f0;
                background-repeat: no-repeat;
                background-position: center center;
                background-size: 100% 100%;
            }

                .file-image .image:before, .file-image .image:after {
                    content: "";
                    display: block;
                    position: absolute;
                    left: 0;
                    right: 0;
                    top: 50%;
                    font: normal normal 14px sans-serif, Arial;
                    line-height: 0;
                    color: #ababab;
                    text-align: center;
                }

                .file-image .image:before {
                    content: "+";
                    font-size: 100px;
                    margin-top: -20px;
                    color: #3C8DBC;
                }

                .file-image .image:after {
                    content: "Thêm ảnh";
                    margin-top: 30px;
                    color: #3C8DBC;
                }

            .file-image .reset {
                display: none;
            }

            .file-image input:not([title=""]) ~ .reset {
                display: block;
            }

            .file-image input:not([title=""]) ~ .image {
                border: 0 none;
            }

                .file-image input:not([title=""]) ~ .image:before,
                .file-image input:not([title=""]) ~ .image:after {
                    display: none;
                }
    </style>
}
@section footerjs{

    <script>
        function resetImage(input) {
            input.value = '';
            input.onchange();
        }
        function readImage(input) {
            var receiver = input.nextElementSibling.nextElementSibling;
            input.setAttribute('title', input.value.replace(/^.*[\\/]/, ''));
            if (input.files && input.files[0]) {
                var reader = new FileReader();
                reader.onload = function (e) {
                    receiver.style.backgroundImage = 'url(' + e.target.result + ')';
                };
                reader.readAsDataURL(input.files[0]);
            }
            else receiver.style.backgroundImage = 'none';
        }

        $(document).on('click', '.number-spinner button', function () {
            var btn = $(this),
                oldValue = btn.closest('.number-spinner').find('input').val().trim(),
                newVal = 0;

            if (btn.attr('data-dir') == 'up') {
                newVal = parseInt(oldValue) + 1;
            } else {
                if (oldValue > 1) {
                    newVal = parseInt(oldValue) - 1;
                } else {
                    newVal = 1;
                }
            }
            btn.closest('.number-spinner').find('input').val(newVal);
        });
    </script>
}



